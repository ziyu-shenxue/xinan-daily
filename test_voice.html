<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>è¯­éŸ³åŠŸèƒ½æµ‹è¯•å·¥å…·</title>
</head>
<body style="font-family: Arial; padding: 20px; max-width: 600px; margin: 0 auto;">
    <h1>ğŸ¤ è¯­éŸ³åŠŸèƒ½æµ‹è¯•</h1>
    <p>ç‚¹å‡»æŒ‰é’®åè¯´è¯ï¼Œæµ‹è¯•æµè§ˆå™¨æ˜¯å¦æ”¯æŒè¯­éŸ³è¯†åˆ«</p>
    
    <button onclick="testVoice()" style="padding: 20px; font-size: 18px; background: #4CAF50; color: white; border: none; border-radius: 4px;">å¼€å§‹æµ‹è¯•</button>
    
    <div id="result" style="margin-top: 20px; padding: 15px; background: #f0f0f0; border-radius: 4px; min-height: 100px;"></div>

    <script>
        function testVoice() {
            if (!('webkitSpeechRecognition' in window)) {
                document.getElementById('result').innerHTML = 
                    '<span style="color:red;">âŒ æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«</span><br>' +
                    'è¯·ä½¿ç”¨ï¼šChromeã€Edgeã€Safari<br>' +
                    'å¾®ä¿¡ç”¨æˆ·è¯·ç‚¹å‡»å³ä¸Šè§’"..." â†’ "åœ¨æµè§ˆå™¨æ‰“å¼€"';
                return;
            }
            
            const recognition = new webkitSpeechRecognition();
            recognition.lang = 'zh-CN';
            
            recognition.onstart = () => {
                document.getElementById('result').innerHTML = 'ğŸ”´ æ­£åœ¨å½•éŸ³...';
            };
            
            recognition.onresult = (e) => {
                const transcript = e.results[0][0].transcript;
                const confidence = e.results[0][0].confidence;
                document.getElementById('result').innerHTML = 
                    '<span style="color:green;">âœ… è¯†åˆ«æˆåŠŸï¼</span><br>' +
                    '<strong>å†…å®¹ï¼š</strong>' + transcript + '<br>' +
                    '<strong>ç½®ä¿¡åº¦ï¼š</strong>' + (confidence * 100).toFixed(2) + '%';
            };
            
            recognition.onerror = (e) => {
                let errorMsg = '';
                switch(e.error) {
                    case 'no-speech': errorMsg = 'æœªæ£€æµ‹åˆ°è¯­éŸ³'; break;
                    case 'audio-capture': errorMsg = 'æ— æ³•è®¿é—®éº¦å…‹é£'; break;
                    case 'not-allowed': errorMsg = 'éº¦å…‹é£æƒé™è¢«æ‹’ç»'; break;
                    default: errorMsg = e.error;
                }
                document.getElementById('result').innerHTML = 
                    '<span style="color:red;">âŒ é”™è¯¯ï¼š</span>' + errorMsg;
            };
            
            recognition.start();
        }
    </script>
</body>
</html>
